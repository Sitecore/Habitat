@using Sitecore.Feature.Person
@using Sitecore.Foundation.SitecoreExtensions.Extensions
@using Sitecore.Foundation.SitecoreExtensions.Repositories
@model Sitecore.Mvc.Presentation.RenderingModel

@if (Model.Item == null || !Model.Item.IsDerived(Templates.Quote.ID))
{
  @Html.Sitecore().PageEditorError(DictionaryRepository.Get("/Person/Quote/Invalid quote source", "Quote source is invalid"))
}
else
{
    <blockquote>
        @Html.Sitecore().ImageField(Templates.Person.Fields.Picture, Model.Item, 64, 64)
        <p>
            @Model.Item.Field(Templates.Quote.Fields.Quote)
        </p>
        <footer>
            <cite>
                <span class="name">@Model.Item.Field(Templates.Person.Fields.Name)</span>
                <span class="title">@Model.Item.Field(Templates.Person.Fields.Title)</span>
                <span class="company">@Model.Item.Field(Templates.Quote.Fields.Company)</span>
            </cite>
        </footer>
    </blockquote>
}
